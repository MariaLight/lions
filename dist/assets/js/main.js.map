{"version":3,"sources":["main.js"],"names":["document","addEventListener","btns","querySelectorAll","body","querySelector","btnClose","closeModal","modal","classList","remove","style","overflowY","removeEventListener","onModalKeyDown","onModalClick","removeModalEventListeners","e","currentTarget","key","contains","target","forEach","btn","preventDefault","modalId","closest","getAttribute","getElementById","add","overflow","addModalEventListeners","close","burgerBtn","burgerBtnClose","burgerMenu","disableScroll","enableScroll","burgerBtnFilters","burgerBtnFiltersClose","burgerMenuFilters","tabButtons","length","firstContent","Fancybox","bind","modalTabButtons","mainTabButtons","mainTabContents","syncTabs","clickedButton","isFromModal","arguments","undefined","tabId","mainActiveButton","modalActiveButton","content","activeContent","this"],"mappings":"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","file":"main.js","sourcesContent":["document.addEventListener('DOMContentLoaded', function () {\r\n\r\n    const btns = document.querySelectorAll('[data-modal]');\r\n    const body = document.querySelector('body');\r\n    const btnClose = document.querySelectorAll('[data-modal-close]');\r\n\r\n    btns.forEach(btn => {\r\n        btn.addEventListener('click', e => {\r\n            e.preventDefault();\r\n            const modalId = e.target.closest('[data-modal]').getAttribute('data-modal');\r\n            const modal = document.getElementById(modalId);\r\n            if (modal) {\r\n                modal.classList.add('modal--active');\r\n                body.style.overflow = 'hidden';\r\n                addModalEventListeners(modal);\r\n            }\r\n        });\r\n    });\r\n\r\n    btnClose.forEach(close => {\r\n        close.addEventListener('click', e => {\r\n            const modal = e.target.closest('.modal');\r\n            if (modal) {\r\n                closeModal(modal);\r\n            }\r\n        });\r\n    });\r\n\r\n    function addModalEventListeners(modal) {\r\n        modal.addEventListener('keydown', onModalKeyDown);\r\n        modal.addEventListener('click', onModalClick);\r\n    }\r\n\r\n    function removeModalEventListeners(modal) {\r\n        modal.removeEventListener('keydown', onModalKeyDown);\r\n        modal.removeEventListener('click', onModalClick);\r\n    }\r\n\r\n    function closeModal(modal) {\r\n        modal.classList.remove('modal--active');\r\n        body.style.overflowY = '';\r\n        removeModalEventListeners(modal);\r\n    }\r\n\r\n    function onModalKeyDown(e) {\r\n        const modal = e.currentTarget;\r\n        if (e.key === 'Escape') {\r\n            closeModal(modal);\r\n        }\r\n    }\r\n\r\n    function onModalClick(e) {\r\n        const modalContent = e.currentTarget.querySelector('.modal__content');\r\n        if (!modalContent.contains(e.target)) {\r\n            closeModal(e.currentTarget);\r\n        }\r\n    }\r\n\r\n\r\n\r\n    const burgerBtn = document.querySelector('#burger');\r\n    const burgerBtnClose = document.querySelector('#burger-close');\r\n    const burgerMenu = document.querySelector('.burger__menu');\r\n    // Блокируем прокрутку страницы при открытом бургер-меню\r\n    function disableScroll() {\r\n        document.body.style.overflow = 'hidden';\r\n    }\r\n\r\n    function enableScroll() {\r\n        document.body.style.overflow = '';\r\n    }\r\n    burgerBtn.addEventListener('click', function () {\r\n        burgerMenu.classList.add('active');\r\n        disableScroll();\r\n\r\n    })\r\n    burgerBtnClose.addEventListener('click', function () {\r\n        burgerMenu.classList.remove('active');\r\n        enableScroll();\r\n\r\n    })\r\n    const burgerBtnFilters = document.querySelector('#filters-btn');\r\n    const burgerBtnFiltersClose = document.querySelector('#burger-filters-close');\r\n    const burgerMenuFilters = document.querySelector('.burger__menu__filters');\r\n    if (burgerBtnFilters) {\r\n        burgerBtnFilters.addEventListener('click', function () {\r\n            burgerMenuFilters.classList.add('active');\r\n            disableScroll();\r\n\r\n        })\r\n        burgerBtnFiltersClose.addEventListener('click', function () {\r\n            burgerMenuFilters.classList.remove('active');\r\n            enableScroll();\r\n\r\n        })\r\n    }\r\n\r\n    // Инициализация табов (оставляем для обратной совместимости)\r\n    const tabButtons = document.querySelectorAll('.stuntmans__tabs__btn');\r\n    const tabContents = document.querySelectorAll('.stuntmans__tabs__content__item');\r\n    if (tabButtons.length > 0) {\r\n        // По умолчанию показываем первый таб\r\n        const firstContent = document.querySelector('.stuntmans__tabs__content__item[data-content=\"1\"]');\r\n        if (firstContent) {\r\n            firstContent.classList.add('active');\r\n        }\r\n    }\r\n\r\n\r\n    Fancybox.bind('[data-fancybox]', {});\r\n\r\n    // Функциональность для синхронизации фильтров между модальным окном и основными табами\r\n    const modalTabButtons = document.querySelectorAll('#filters-modal .stuntmans__tabs__btn');\r\n    const mainTabButtons = document.querySelectorAll('.stuntmans__tabs__btn');\r\n    const mainTabContents = document.querySelectorAll('.stuntmans__tabs__content__item');\r\n\r\n    function syncTabs(clickedButton, isFromModal = false) {\r\n        const tabId = clickedButton.getAttribute('data-tab');\r\n\r\n        // Обновляем кнопки в основном интерфейсе\r\n        mainTabButtons.forEach(function (btn) {\r\n            btn.classList.remove('active');\r\n        });\r\n        const mainActiveButton = document.querySelector('.stuntmans__tabs__btn[data-tab=\"' + tabId + '\"]');\r\n        if (mainActiveButton) {\r\n            mainActiveButton.classList.add('active');\r\n        }\r\n\r\n        // Обновляем кнопки в модальном окне\r\n        modalTabButtons.forEach(function (btn) {\r\n            btn.classList.remove('active');\r\n        });\r\n        const modalActiveButton = document.querySelector('#filters-modal .stuntmans__tabs__btn[data-tab=\"' + tabId + '\"]');\r\n        if (modalActiveButton) {\r\n            modalActiveButton.classList.add('active');\r\n        }\r\n\r\n        // Обновляем контент\r\n        mainTabContents.forEach(function (content) {\r\n            content.classList.remove('active');\r\n        });\r\n        const activeContent = document.querySelector('.stuntmans__tabs__content__item[data-content=\"' + tabId + '\"]');\r\n        if (activeContent) {\r\n            activeContent.classList.add('active');\r\n        }\r\n\r\n        // Если клик был из модального окна, закрываем его\r\n        if (isFromModal) {\r\n            const modal = document.getElementById('filters-modal');\r\n            if (modal) {\r\n                modal.classList.remove('modal--active');\r\n                document.body.style.overflowY = '';\r\n            }\r\n        }\r\n    }\r\n\r\n    // Обработчики для кнопок в модальном окне\r\n    modalTabButtons.forEach(function (btn) {\r\n        btn.addEventListener('click', function () {\r\n            syncTabs(this, true);\r\n        });\r\n    });\r\n\r\n    // Обновляем обработчики для основных кнопок\r\n    mainTabButtons.forEach(function (btn) {\r\n        btn.addEventListener('click', function () {\r\n            syncTabs(this, false);\r\n        });\r\n    });\r\n\r\n\r\n})\r\n\r\n"]}