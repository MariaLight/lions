{"version":3,"sources":["main.js"],"names":["document","addEventListener","WOW","init","window","location","pathname","includes","endsWith","setTimeout","aboutSection","getElementById","header","querySelector","headerHeight","offsetHeight","elementPosition","offsetTop","scrollTo","top","behavior","btns","querySelectorAll","body","btnClose","closeModal","modal","classList","remove","style","overflowY","removeEventListener","onModalKeyDown","onModalClick","removeModalEventListeners","e","currentTarget","key","contains","target","forEach","btn","preventDefault","modalId","closest","getAttribute","add","overflow","addModalEventListeners","close","burgerBtn","burgerBtnClose","burgerMenu","disableScroll","enableScroll","burgerBtnFilters","burgerBtnFiltersClose","burgerMenuFilters","tabButtons","length","firstContent","Fancybox","bind","modalTabButtons","mainTabButtons","mainTabContents","syncTabs","clickedButton","isFromModal","arguments","undefined","tabId","mainActiveButton","modalActiveButton","content","activeContent","this","Swiper","slidesPerView","centeredSlides","spaceBetween","loop","autoplay","delay","disableOnInteraction","direction","effect","coverflowEffect","rotate","stretch","depth","modifier","slideShadows","breakpoints","pagination","el","clickable","navigation","nextEl","prevEl"],"mappings":"AAAA,aAAAA,SAASC,iBAAiB,mBAAoB,WAGvB,oBAARC,MACP,IAAIA,KAAMC,QAIVC,OAAOC,SAASC,SAASC,SAAS,eAAiBH,OAAOC,SAASC,SAASE,SAAS,YACrFC,WAAW,WACP,IAAMC,EAAeV,SAASW,eAAe,iBAC7C,GAAID,EAAc,CAEd,IAAME,EAASZ,SAASa,cAAc,WAChCC,EAAeF,EAASA,EAAOG,aAAe,EAG9CC,EAAkBN,EAAaO,UAAYH,EACjDV,OAAOc,SAAS,CACZC,IAAKH,EACLI,SAAU,UAElB,CACJ,EAAG,MAGP,IAAMC,EAAOrB,SAASsB,iBAAiB,gBACjCC,EAAOvB,SAASa,cAAc,QAC9BW,EAAWxB,SAASsB,iBAAiB,sBAkC3C,SAASG,EAAWC,GAChBA,EAAMC,UAAUC,OAAO,iBACvBL,EAAKM,MAAMC,UAAY,GAP3B,SAAmCJ,GAC/BA,EAAMK,oBAAoB,UAAWC,GACrCN,EAAMK,oBAAoB,QAASE,EACvC,CAKIC,CAA0BR,EAC9B,CAEA,SAASM,EAAeG,GACpB,IAAMT,EAAQS,EAAEC,cACF,WAAVD,EAAEE,KACFZ,EAAWC,EAEnB,CAEA,SAASO,EAAaE,GACGA,EAAEC,cAAcvB,cAAc,mBACjCyB,SAASH,EAAEI,SACzBd,EAAWU,EAAEC,cAErB,CAlDAf,EAAKmB,QAAQ,SAAAC,GACTA,EAAIxC,iBAAiB,QAAS,SAAAkC,GAC1BA,EAAEO,iBACF,IAAMC,EAAUR,EAAEI,OAAOK,QAAQ,gBAAgBC,aAAa,cACxDnB,EAAQ1B,SAASW,eAAegC,GAClCjB,IACAA,EAAMC,UAAUmB,IAAI,iBACpBvB,EAAKM,MAAMkB,SAAW,SAelC,SAAgCrB,GAC5BA,EAAMzB,iBAAiB,UAAW+B,GAClCN,EAAMzB,iBAAiB,QAASgC,EACpC,CAjBYe,CAAuBtB,GAE/B,EACJ,GAEAF,EAASgB,QAAQ,SAAAS,GACbA,EAAMhD,iBAAiB,QAAS,SAAAkC,GAC5B,IAAMT,EAAQS,EAAEI,OAAOK,QAAQ,UAC3BlB,GACAD,EAAWC,EAEnB,EACJ,GAkCA,IAAMwB,EAAYlD,SAASa,cAAc,WACnCsC,EAAiBnD,SAASa,cAAc,iBACxCuC,EAAapD,SAASa,cAAc,iBAE1C,SAASwC,IACLrD,SAASuB,KAAKM,MAAMkB,SAAW,QACnC,CAEA,SAASO,IACLtD,SAASuB,KAAKM,MAAMkB,SAAW,EACnC,CACAG,EAAUjD,iBAAiB,QAAS,WAChCmD,EAAWzB,UAAUmB,IAAI,UACzBO,GAEJ,GACAF,EAAelD,iBAAiB,QAAS,WACrCmD,EAAWzB,UAAUC,OAAO,UAC5B0B,GAEJ,GACA,IAAMC,EAAmBvD,SAASa,cAAc,gBAC1C2C,EAAwBxD,SAASa,cAAc,yBAC/C4C,EAAoBzD,SAASa,cAAc,0BAC7C0C,IACAA,EAAiBtD,iBAAiB,QAAS,WACvCwD,EAAkB9B,UAAUmB,IAAI,UAChCO,GAEJ,GACAG,EAAsBvD,iBAAiB,QAAS,WAC5CwD,EAAkB9B,UAAUC,OAAO,UACnC0B,GAEJ,IAIJ,IAAMI,EAAa1D,SAASsB,iBAAiB,yBACzBtB,SAASsB,iBAAiB,mCAC9C,GAAIoC,EAAWC,OAAS,EAAG,CAEvB,IAAMC,EAAe5D,SAASa,cAAc,qDACxC+C,GACAA,EAAajC,UAAUmB,IAAI,SAEnC,CAGAe,SAASC,KAAK,kBAAmB,CAAC,GAGlC,IAAMC,EAAkB/D,SAASsB,iBAAiB,wCAC5C0C,EAAiBhE,SAASsB,iBAAiB,yBAC3C2C,EAAkBjE,SAASsB,iBAAiB,mCAElD,SAAS4C,EAASC,GAAoC,IAArBC,EAAWC,UAAAV,OAAA,QAAAW,IAAAD,UAAA,IAAAA,UAAA,GAClCE,EAAQJ,EAActB,aAAa,YAGzCmB,EAAexB,QAAQ,SAAUC,GAC7BA,EAAId,UAAUC,OAAO,SACzB,GACA,IAAM4C,EAAmBxE,SAASa,cAAc,mCAAqC0D,EAAQ,MACzFC,GACAA,EAAiB7C,UAAUmB,IAAI,UAInCiB,EAAgBvB,QAAQ,SAAUC,GAC9BA,EAAId,UAAUC,OAAO,SACzB,GACA,IAAM6C,EAAoBzE,SAASa,cAAc,kDAAoD0D,EAAQ,MACzGE,GACAA,EAAkB9C,UAAUmB,IAAI,UAIpCmB,EAAgBzB,QAAQ,SAAUkC,GAC9BA,EAAQ/C,UAAUC,OAAO,SAC7B,GACA,IAAM+C,EAAgB3E,SAASa,cAAc,iDAAmD0D,EAAQ,MAMxG,GALII,GACAA,EAAchD,UAAUmB,IAAI,UAI5BsB,EAAa,CACb,IAAM1C,EAAQ1B,SAASW,eAAe,iBAClCe,IACAA,EAAMC,UAAUC,OAAO,iBACvB5B,SAASuB,KAAKM,MAAMC,UAAY,GAExC,CACJ,CAGAiC,EAAgBvB,QAAQ,SAAUC,GAC9BA,EAAIxC,iBAAiB,QAAS,WAC1BiE,EAASU,MAAM,EACnB,EACJ,GAGAZ,EAAexB,QAAQ,SAAUC,GAC7BA,EAAIxC,iBAAiB,QAAS,WAC1BiE,EAASU,MAAM,EACnB,EACJ,GAG2B5E,SAASsB,iBAAiB,gDAElCkB,QAAQ,SAAUC,GACjCA,EAAIxC,iBAAiB,QAAS,WAE1BiE,EAASU,MAAM,GAGXnB,IACAA,EAAkB9B,UAAUC,OAAO,UACnC0B,IAER,EACJ,GAEoB,IAAIuB,OAAO,gBAAiB,CAC5CC,cAAe,OACfC,gBAAgB,EAChBC,cAAe,IACfC,MAAM,EACNC,SAAU,CACNC,MAAO,KACPC,sBAAsB,GAE1BC,UAAW,aACXC,OAAQ,YACRC,gBAAiB,CACbC,OAAQ,EACRC,QAAS,EACTC,MAAO,IACPC,SAAU,IACVC,cAAc,GAElBC,YAAa,CACT,IAAK,CACDf,cAAe,EACfE,cAAe,IAEnB,IAAK,CACDF,cAAe,IACfE,cAAe,MAGvBc,WAAY,CACRC,GAAI,4BACJC,WAAW,KAKK,IAAInB,OAAO,oBAAqB,CACpDC,cAAe,IACfC,gBAAgB,EAChBC,aAAc,EACdC,MAAM,EACNC,SAAU,CACNC,MAAO,IACPC,sBAAsB,GAE1Ba,WAAY,CACRC,OAAQ,iCACRC,OAAQ,mCAsBpB","file":"main.js","sourcesContent":["document.addEventListener('DOMContentLoaded', function () {\r\n\r\n    // Инициализация WOW.js\r\n    if (typeof WOW !== 'undefined') {\r\n        new WOW().init();\r\n    }\r\n\r\n    // Автоматическая прокрутка на странице about\r\n    if (window.location.pathname.includes('about.html') || window.location.pathname.endsWith('/about')) {\r\n        setTimeout(function() {\r\n            const aboutSection = document.getElementById('about-section');\r\n            if (aboutSection) {\r\n                // Получаем высоту header для компенсации\r\n                const header = document.querySelector('.header');\r\n                const headerHeight = header ? header.offsetHeight : 0;\r\n                \r\n                // Прокручиваем с учетом высоты header\r\n                const elementPosition = aboutSection.offsetTop - headerHeight;\r\n                window.scrollTo({\r\n                    top: elementPosition,\r\n                    behavior: 'smooth'\r\n                });\r\n            }\r\n        }, 1500); // 1.5 секунды (0.5s задержка анимации + 1s после появления)\r\n    }\r\n\r\n    const btns = document.querySelectorAll('[data-modal]');\r\n    const body = document.querySelector('body');\r\n    const btnClose = document.querySelectorAll('[data-modal-close]');\r\n\r\n    btns.forEach(btn => {\r\n        btn.addEventListener('click', e => {\r\n            e.preventDefault();\r\n            const modalId = e.target.closest('[data-modal]').getAttribute('data-modal');\r\n            const modal = document.getElementById(modalId);\r\n            if (modal) {\r\n                modal.classList.add('modal--active');\r\n                body.style.overflow = 'hidden';\r\n                addModalEventListeners(modal);\r\n            }\r\n        });\r\n    });\r\n\r\n    btnClose.forEach(close => {\r\n        close.addEventListener('click', e => {\r\n            const modal = e.target.closest('.modal');\r\n            if (modal) {\r\n                closeModal(modal);\r\n            }\r\n        });\r\n    });\r\n\r\n    function addModalEventListeners(modal) {\r\n        modal.addEventListener('keydown', onModalKeyDown);\r\n        modal.addEventListener('click', onModalClick);\r\n    }\r\n\r\n    function removeModalEventListeners(modal) {\r\n        modal.removeEventListener('keydown', onModalKeyDown);\r\n        modal.removeEventListener('click', onModalClick);\r\n    }\r\n\r\n    function closeModal(modal) {\r\n        modal.classList.remove('modal--active');\r\n        body.style.overflowY = '';\r\n        removeModalEventListeners(modal);\r\n    }\r\n\r\n    function onModalKeyDown(e) {\r\n        const modal = e.currentTarget;\r\n        if (e.key === 'Escape') {\r\n            closeModal(modal);\r\n        }\r\n    }\r\n\r\n    function onModalClick(e) {\r\n        const modalContent = e.currentTarget.querySelector('.modal__content');\r\n        if (!modalContent.contains(e.target)) {\r\n            closeModal(e.currentTarget);\r\n        }\r\n    }\r\n\r\n\r\n\r\n    const burgerBtn = document.querySelector('#burger');\r\n    const burgerBtnClose = document.querySelector('#burger-close');\r\n    const burgerMenu = document.querySelector('.burger__menu');\r\n    // Блокируем прокрутку страницы при открытом бургер-меню\r\n    function disableScroll() {\r\n        document.body.style.overflow = 'hidden';\r\n    }\r\n\r\n    function enableScroll() {\r\n        document.body.style.overflow = '';\r\n    }\r\n    burgerBtn.addEventListener('click', function () {\r\n        burgerMenu.classList.add('active');\r\n        disableScroll();\r\n\r\n    })\r\n    burgerBtnClose.addEventListener('click', function () {\r\n        burgerMenu.classList.remove('active');\r\n        enableScroll();\r\n\r\n    })\r\n    const burgerBtnFilters = document.querySelector('#filters-btn');\r\n    const burgerBtnFiltersClose = document.querySelector('#burger-filters-close');\r\n    const burgerMenuFilters = document.querySelector('.burger__menu__filters');\r\n    if (burgerBtnFilters) {\r\n        burgerBtnFilters.addEventListener('click', function () {\r\n            burgerMenuFilters.classList.add('active');\r\n            disableScroll();\r\n\r\n        })\r\n        burgerBtnFiltersClose.addEventListener('click', function () {\r\n            burgerMenuFilters.classList.remove('active');\r\n            enableScroll();\r\n\r\n        })\r\n    }\r\n\r\n    // Инициализация табов (оставляем для обратной совместимости)\r\n    const tabButtons = document.querySelectorAll('.stuntmans__tabs__btn');\r\n    const tabContents = document.querySelectorAll('.stuntmans__tabs__content__item');\r\n    if (tabButtons.length > 0) {\r\n        // По умолчанию показываем первый таб\r\n        const firstContent = document.querySelector('.stuntmans__tabs__content__item[data-content=\"1\"]');\r\n        if (firstContent) {\r\n            firstContent.classList.add('active');\r\n        }\r\n    }\r\n\r\n\r\n    Fancybox.bind('[data-fancybox]', {});\r\n\r\n    // Функциональность для синхронизации фильтров между модальным окном и основными табами\r\n    const modalTabButtons = document.querySelectorAll('#filters-modal .stuntmans__tabs__btn');\r\n    const mainTabButtons = document.querySelectorAll('.stuntmans__tabs__btn');\r\n    const mainTabContents = document.querySelectorAll('.stuntmans__tabs__content__item');\r\n\r\n    function syncTabs(clickedButton, isFromModal = false) {\r\n        const tabId = clickedButton.getAttribute('data-tab');\r\n\r\n        // Обновляем кнопки в основном интерфейсе\r\n        mainTabButtons.forEach(function (btn) {\r\n            btn.classList.remove('active');\r\n        });\r\n        const mainActiveButton = document.querySelector('.stuntmans__tabs__btn[data-tab=\"' + tabId + '\"]');\r\n        if (mainActiveButton) {\r\n            mainActiveButton.classList.add('active');\r\n        }\r\n\r\n        // Обновляем кнопки в модальном окне\r\n        modalTabButtons.forEach(function (btn) {\r\n            btn.classList.remove('active');\r\n        });\r\n        const modalActiveButton = document.querySelector('#filters-modal .stuntmans__tabs__btn[data-tab=\"' + tabId + '\"]');\r\n        if (modalActiveButton) {\r\n            modalActiveButton.classList.add('active');\r\n        }\r\n\r\n        // Обновляем контент\r\n        mainTabContents.forEach(function (content) {\r\n            content.classList.remove('active');\r\n        });\r\n        const activeContent = document.querySelector('.stuntmans__tabs__content__item[data-content=\"' + tabId + '\"]');\r\n        if (activeContent) {\r\n            activeContent.classList.add('active');\r\n        }\r\n\r\n        // Если клик был из модального окна, закрываем его\r\n        if (isFromModal) {\r\n            const modal = document.getElementById('filters-modal');\r\n            if (modal) {\r\n                modal.classList.remove('modal--active');\r\n                document.body.style.overflowY = '';\r\n            }\r\n        }\r\n    }\r\n\r\n    // Обработчики для кнопок в модальном окне\r\n    modalTabButtons.forEach(function (btn) {\r\n        btn.addEventListener('click', function () {\r\n            syncTabs(this, true);\r\n        });\r\n    });\r\n\r\n    // Обновляем обработчики для основных кнопок\r\n    mainTabButtons.forEach(function (btn) {\r\n        btn.addEventListener('click', function () {\r\n            syncTabs(this, false);\r\n        });\r\n    });\r\n\r\n    // Обработчики для кнопок фильтров в модальном окне\r\n    const modalFilterButtons = document.querySelectorAll('.burger__menu__filters .stuntmans__tabs__btn');\r\n\r\n    modalFilterButtons.forEach(function (btn) {\r\n        btn.addEventListener('click', function () {\r\n            // Синхронизируем табы\r\n            syncTabs(this, false);\r\n            \r\n            // Закрываем модальное окно фильтров\r\n            if (burgerMenuFilters) {\r\n                burgerMenuFilters.classList.remove('active');\r\n                enableScroll();\r\n            }\r\n        });\r\n    });\r\n\r\n    const filmsSwiper = new Swiper('.films-swiper', {\r\n        slidesPerView: 'auto',\r\n        centeredSlides: false,\r\n        spaceBetween: -100,\r\n        loop: true,\r\n        autoplay: {\r\n            delay: 2500,\r\n            disableOnInteraction: false,\r\n        },\r\n        direction: 'horizontal',\r\n        effect: 'coverflow',\r\n        coverflowEffect: {\r\n            rotate: 0,\r\n            stretch: 0,\r\n            depth: 200,\r\n            modifier: 1.5,\r\n            slideShadows: false,\r\n        },\r\n        breakpoints: {\r\n            320: {\r\n                slidesPerView: 1,\r\n                spaceBetween: -50,\r\n            },\r\n            640: {\r\n                slidesPerView: 4.5,\r\n                spaceBetween: -120,\r\n            }\r\n        },\r\n        pagination: {\r\n            el: '.films-swiper__pagination',\r\n            clickable: true,\r\n        },\r\n    });\r\n\r\n    // Инициализация portfolio-swiper\r\n    const portfolioSwiper = new Swiper('.portfolio-swiper', {\r\n        slidesPerView: 4.5,\r\n        centeredSlides: false,\r\n        spaceBetween: 0,\r\n        loop: true,\r\n        autoplay: {\r\n            delay: 3000,\r\n            disableOnInteraction: false,\r\n        },\r\n        navigation: {\r\n            nextEl: '.portfolio-swiper__button-next',\r\n            prevEl: '.portfolio-swiper__button-prev',\r\n        },\r\n        // breakpoints: {\r\n        //     320: {\r\n        //         slidesPerView: 1.5,\r\n        //         spaceBetween: 20,\r\n        //     },\r\n        //     768: {\r\n        //         slidesPerView: 3,\r\n        //         spaceBetween: 25,\r\n        //     },\r\n        //     1024: {\r\n        //         slidesPerView: 4,\r\n        //         spaceBetween: 30,\r\n        //     },\r\n        //     1440: {\r\n        //         slidesPerView: 5,\r\n        //         spaceBetween: 30,\r\n        //     }\r\n        // }\r\n    });\r\n\r\n})\r\n\r\n"]}