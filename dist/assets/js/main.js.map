{"version":3,"sources":["main.js"],"names":["document","addEventListener","setTimeout","WOW","boxClass","animateClass","offset","mobile","live","init","window","location","pathname","includes","endsWith","aboutSection","getElementById","header","querySelector","headerHeight","offsetHeight","elementPosition","offsetTop","scrollTo","top","behavior","btns","querySelectorAll","body","btnClose","closeModal","modal","classList","remove","style","overflowY","removeEventListener","onModalKeyDown","onModalClick","removeModalEventListeners","e","currentTarget","key","contains","target","forEach","btn","preventDefault","modalId","closest","getAttribute","add","overflow","addModalEventListeners","close","burgerBtn","burgerBtnClose","burgerMenu","disableScroll","enableScroll","burgerBtnFilters","burgerBtnFiltersClose","burgerMenuFilters","portfolioBtn","portfolioBtnClose","portfolioModal","tabButtons","length","firstContent","Fancybox","bind","modalTabButtons","mainTabButtons","mainTabContents","syncTabs","clickedButton","isFromModal","arguments","undefined","tabId","mainActiveButton","modalActiveButton","content","activeContent","this","Swiper","slidesPerView","centeredSlides","spaceBetween","loop","autoplay","delay","disableOnInteraction","direction","effect","coverflowEffect","rotate","stretch","depth","modifier","slideShadows","breakpoints","pagination","el","clickable","navigation","nextEl","prevEl"],"mappings":"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","file":"main.js","sourcesContent":["document.addEventListener('DOMContentLoaded', function () {\r\n\r\n    // Инициализация WOW.js с задержкой для гарантии загрузки всех ресурсов\r\n    setTimeout(function() {\r\n        if (typeof WOW !== 'undefined') {\r\n            new WOW({\r\n                boxClass: 'wow',\r\n                animateClass: 'animate__animated',\r\n                offset: 0,\r\n                mobile: true,\r\n                live: true\r\n            }).init();\r\n        }\r\n    }, 100);\r\n\r\n    // Автоматическая прокрутка на странице about\r\n    if (window.location.pathname.includes('about.html') || window.location.pathname.endsWith('/about')) {\r\n        setTimeout(function() {\r\n            const aboutSection = document.getElementById('about-section');\r\n            if (aboutSection) {\r\n                // Получаем высоту header для компенсации\r\n                const header = document.querySelector('.header');\r\n                const headerHeight = header ? header.offsetHeight : 0;\r\n                \r\n                // Прокручиваем с учетом высоты header\r\n                const elementPosition = aboutSection.offsetTop - headerHeight;\r\n                window.scrollTo({\r\n                    top: elementPosition,\r\n                    behavior: 'smooth'\r\n                });\r\n            }\r\n        }, 1500); // 1.5 секунды (0.5s задержка анимации + 1s после появления)\r\n    }\r\n\r\n    const btns = document.querySelectorAll('[data-modal]');\r\n    const body = document.querySelector('body');\r\n    const btnClose = document.querySelectorAll('[data-modal-close]');\r\n\r\n    btns.forEach(btn => {\r\n        btn.addEventListener('click', e => {\r\n            e.preventDefault();\r\n            const modalId = e.target.closest('[data-modal]').getAttribute('data-modal');\r\n            const modal = document.getElementById(modalId);\r\n            if (modal) {\r\n                modal.classList.add('modal--active');\r\n                body.style.overflow = 'hidden';\r\n                addModalEventListeners(modal);\r\n            }\r\n        });\r\n    });\r\n\r\n    btnClose.forEach(close => {\r\n        close.addEventListener('click', e => {\r\n            const modal = e.target.closest('.modal');\r\n            if (modal) {\r\n                closeModal(modal);\r\n            }\r\n        });\r\n    });\r\n\r\n    function addModalEventListeners(modal) {\r\n        modal.addEventListener('keydown', onModalKeyDown);\r\n        modal.addEventListener('click', onModalClick);\r\n    }\r\n\r\n    function removeModalEventListeners(modal) {\r\n        modal.removeEventListener('keydown', onModalKeyDown);\r\n        modal.removeEventListener('click', onModalClick);\r\n    }\r\n\r\n    function closeModal(modal) {\r\n        modal.classList.remove('modal--active');\r\n        body.style.overflowY = '';\r\n        removeModalEventListeners(modal);\r\n    }\r\n\r\n    function onModalKeyDown(e) {\r\n        const modal = e.currentTarget;\r\n        if (e.key === 'Escape') {\r\n            closeModal(modal);\r\n        }\r\n    }\r\n\r\n    function onModalClick(e) {\r\n        const modalContent = e.currentTarget.querySelector('.modal__content');\r\n        if (!modalContent.contains(e.target)) {\r\n            closeModal(e.currentTarget);\r\n        }\r\n    }\r\n\r\n\r\n\r\n    const burgerBtn = document.querySelector('#burger');\r\n    const burgerBtnClose = document.querySelector('#burger-close');\r\n    const burgerMenu = document.querySelector('.burger__menu');\r\n    // Блокируем прокрутку страницы при открытом бургер-меню\r\n    function disableScroll() {\r\n        document.body.style.overflow = 'hidden';\r\n    }\r\n\r\n    function enableScroll() {\r\n        document.body.style.overflow = '';\r\n    }\r\n    burgerBtn.addEventListener('click', function () {\r\n        burgerMenu.classList.add('active');\r\n        disableScroll();\r\n\r\n    })\r\n    burgerBtnClose.addEventListener('click', function () {\r\n        burgerMenu.classList.remove('active');\r\n        enableScroll();\r\n\r\n    })\r\n    const burgerBtnFilters = document.querySelector('#filters-btn');\r\n    const burgerBtnFiltersClose = document.querySelector('#burger-filters-close');\r\n    const burgerMenuFilters = document.querySelector('.burger__menu__filters');\r\n    if (burgerBtnFilters) {\r\n        burgerBtnFilters.addEventListener('click', function () {\r\n            burgerMenuFilters.classList.add('active');\r\n            disableScroll();\r\n\r\n        })\r\n        burgerBtnFiltersClose.addEventListener('click', function () {\r\n            burgerMenuFilters.classList.remove('active');\r\n            enableScroll();\r\n\r\n        })\r\n    }\r\n    const portfolioBtn = document.querySelector('#portfolio-btn');\r\n    const portfolioBtnClose = document.querySelector('#burger-portfolio-close');\r\n    const portfolioModal = document.querySelector('.portfolio-modal');\r\n    if (portfolioBtn) {\r\n        portfolioBtn.addEventListener('click', function () {\r\n            portfolioModal.classList.add('active');\r\n            disableScroll();\r\n\r\n        })\r\n        portfolioBtnClose.addEventListener('click', function () {\r\n            portfolioModal.classList.remove('active');\r\n            enableScroll();\r\n\r\n        })\r\n    }\r\n\r\n    // Инициализация табов (оставляем для обратной совместимости)\r\n    const tabButtons = document.querySelectorAll('.stuntmans__tabs__btn');\r\n    const tabContents = document.querySelectorAll('.stuntmans__tabs__content__item');\r\n    if (tabButtons.length > 0) {\r\n        // По умолчанию показываем первый таб\r\n        const firstContent = document.querySelector('.stuntmans__tabs__content__item[data-content=\"1\"]');\r\n        if (firstContent) {\r\n            firstContent.classList.add('active');\r\n        }\r\n    }\r\n\r\n\r\n    Fancybox.bind('[data-fancybox]', {});\r\n\r\n    // Функциональность для синхронизации фильтров между модальным окном и основными табами\r\n    const modalTabButtons = document.querySelectorAll('#filters-modal .stuntmans__tabs__btn');\r\n    const mainTabButtons = document.querySelectorAll('.stuntmans__tabs__btn');\r\n    const mainTabContents = document.querySelectorAll('.stuntmans__tabs__content__item');\r\n\r\n    function syncTabs(clickedButton, isFromModal = false) {\r\n        const tabId = clickedButton.getAttribute('data-tab');\r\n\r\n        // Обновляем кнопки в основном интерфейсе\r\n        mainTabButtons.forEach(function (btn) {\r\n            btn.classList.remove('active');\r\n        });\r\n        const mainActiveButton = document.querySelector('.stuntmans__tabs__btn[data-tab=\"' + tabId + '\"]');\r\n        if (mainActiveButton) {\r\n            mainActiveButton.classList.add('active');\r\n        }\r\n\r\n        // Обновляем кнопки в модальном окне\r\n        modalTabButtons.forEach(function (btn) {\r\n            btn.classList.remove('active');\r\n        });\r\n        const modalActiveButton = document.querySelector('#filters-modal .stuntmans__tabs__btn[data-tab=\"' + tabId + '\"]');\r\n        if (modalActiveButton) {\r\n            modalActiveButton.classList.add('active');\r\n        }\r\n\r\n        // Обновляем контент\r\n        mainTabContents.forEach(function (content) {\r\n            content.classList.remove('active');\r\n        });\r\n        const activeContent = document.querySelector('.stuntmans__tabs__content__item[data-content=\"' + tabId + '\"]');\r\n        if (activeContent) {\r\n            activeContent.classList.add('active');\r\n        }\r\n\r\n        // Если клик был из модального окна, закрываем его\r\n        if (isFromModal) {\r\n            const modal = document.getElementById('filters-modal');\r\n            if (modal) {\r\n                modal.classList.remove('modal--active');\r\n                document.body.style.overflowY = '';\r\n            }\r\n        }\r\n    }\r\n\r\n    // Обработчики для кнопок в модальном окне\r\n    modalTabButtons.forEach(function (btn) {\r\n        btn.addEventListener('click', function () {\r\n            syncTabs(this, true);\r\n        });\r\n    });\r\n\r\n    // Обновляем обработчики для основных кнопок\r\n    mainTabButtons.forEach(function (btn) {\r\n        btn.addEventListener('click', function () {\r\n            syncTabs(this, false);\r\n        });\r\n    });\r\n\r\n    // Обработчики для кнопок фильтров в модальном окне\r\n    const modalFilterButtons = document.querySelectorAll('.burger__menu__filters .stuntmans__tabs__btn');\r\n\r\n    modalFilterButtons.forEach(function (btn) {\r\n        btn.addEventListener('click', function () {\r\n            // Синхронизируем табы\r\n            syncTabs(this, false);\r\n            \r\n            // Закрываем модальное окно фильтров\r\n            if (burgerMenuFilters) {\r\n                burgerMenuFilters.classList.remove('active');\r\n                enableScroll();\r\n            }\r\n        });\r\n    });\r\n\r\n    const filmsSwiper = new Swiper('.films-swiper', {\r\n        slidesPerView: 'auto',\r\n        centeredSlides: false,\r\n        spaceBetween: -100,\r\n        loop: true,\r\n        autoplay: {\r\n            delay: 2500,\r\n            disableOnInteraction: false,\r\n        },\r\n        direction: 'horizontal',\r\n        effect: 'coverflow',\r\n        coverflowEffect: {\r\n            rotate: 0,\r\n            stretch: 0,\r\n            depth: 200,\r\n            modifier: 1.5,\r\n            slideShadows: false,\r\n        },\r\n        breakpoints: {\r\n            320: {\r\n                slidesPerView: 1,\r\n                spaceBetween: -50,\r\n            },\r\n            640: {\r\n                slidesPerView: 4.5,\r\n                spaceBetween: -120,\r\n            }\r\n        },\r\n        pagination: {\r\n            el: '.films-swiper__pagination',\r\n            clickable: true,\r\n        },\r\n    });\r\n\r\n    // Инициализация portfolio-swiper\r\n    const portfolioSwiper = new Swiper('.portfolio-swiper', {\r\n        slidesPerView: 4.5,\r\n        centeredSlides: false,\r\n        spaceBetween: 0,\r\n        loop: true,\r\n        autoplay: {\r\n            delay: 3000,\r\n            disableOnInteraction: false,\r\n        },\r\n        navigation: {\r\n            nextEl: '.portfolio-swiper__button-next',\r\n            prevEl: '.portfolio-swiper__button-prev',\r\n        },\r\n        // breakpoints: {\r\n        //     320: {\r\n        //         slidesPerView: 1.5,\r\n        //         spaceBetween: 20,\r\n        //     },\r\n        //     768: {\r\n        //         slidesPerView: 3,\r\n        //         spaceBetween: 25,\r\n        //     },\r\n        //     1024: {\r\n        //         slidesPerView: 4,\r\n        //         spaceBetween: 30,\r\n        //     },\r\n        //     1440: {\r\n        //         slidesPerView: 5,\r\n        //         spaceBetween: 30,\r\n        //     }\r\n        // }\r\n    });\r\n\r\n})\r\n\r\n"]}